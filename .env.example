# Copy to .env (app) / .env.test / .env.test.local depending on your workflow.
# For CI (GitHub Actions), provide these as Secrets / Environment secrets instead of committing values.
#
# This project reads env vars from:
# - tests: `tests/test.config.ts` (loads .env.test + .env.test.local)
# - E2E:  `playwright.config.ts` (passes env to Astro dev server)
# - app:  `src/db/supabase.client.ts`, `src/middleware/index.ts`, etc.

########################################
# App URL
########################################
PUBLIC_APP_URL=http://localhost:4321

########################################
# Supabase
########################################
PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Optional (legacy / server-side aliases used in some environments)
SUPABASE_URL=
SUPABASE_KEY=

# Required for admin operations / some tests
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

########################################
# OpenRouter (AI)
########################################
OPENROUTER_API_KEY=

########################################
# Testing mode flags (E2E / dev)
########################################
# NOTE: Auth bypass works ONLY in dev mode (`import.meta.env.DEV`) - used by Astro dev server in Playwright.
DISABLE_AUTH_FOR_TESTING=true
DISABLE_AI_QUOTA_FOR_TESTING=true

# E2E "logged in" user identity (middleware injects it when auth is disabled)
TEST_USER_ID=00000000-0000-0000-0000-000000000001
TEST_USER_EMAIL=test@playwright.test

########################################
# Test users (unit/integration tests)
########################################
TEST_USER_PASSWORD=TestPassword123!
TEST_ADMIN_EMAIL=admin@example.com
TEST_ADMIN_PASSWORD=AdminPassword123!

########################################
# Playwright configuration
########################################
PLAYWRIGHT_BASE_URL=http://localhost:4321
PLAYWRIGHT_TIMEOUT=30000
PLAYWRIGHT_BROWSER=chromium
PLAYWRIGHT_HEADED=false
PLAYWRIGHT_SLOWMO=0

# Reporting / debugging artifacts
SAVE_SCREENSHOTS=only-on-failure
SAVE_VIDEOS=retain-on-failure
SAVE_TRACES=on-first-retry

########################################
# Test DB / debug
########################################
TEST_DATABASE_NAME=test_db
TEST_CLEANUP_ENABLED=true
DEBUG=false
VERBOSE=false
